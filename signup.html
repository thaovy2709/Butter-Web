<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/signup_style.css">
  <script
  src="https://code.jquery.com/jquery-3.6.1.min.js"
  integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
  crossorigin="anonymous"></script>
  <link rel="icon" type="image/x-icon" href="/img/webicon.png">
  <title>Đăng nhập</title>

</head>
<body>
    <!-- <div class="text-center"> hehehe duplicate me</div> -->
    <!--Write your code here-->
  <div class="section-head-signup">
    <div class="head-signup">
      <div class="logo-butter"><img src="/img/logovang.png"></div>
      <div class="text-help"><a href="homepage.html">Bỏ qua</a></div>
    </div>
  </div>
  <div class="section-signup">
    <div class="divide-section">
      <div class="hello-butter"><img src="/img/homepage/hello.svg"></div>
      <div class="form-signup">
        <div class="text-hello">Butter xin chào!</div>
        <div class="container">
        <div id="signup">
        <div class="phonenumber-wrapper">
          <div class="phonenumber-input">
            <input type="text" name="" placeholder="Số điện thoại" id="number">
            <span class="bottom"></span>
              <span class="right"></span>
              <span class="top"></span>
              <span class="left"></span>
          </div>
        </div>
        <div id="recaptcha-container"></div>
        <div class="buttonsignup-wrapper">
          <button class="button-signup" onclick="phoneAuth()">Đăng nhập</button>
        </div>
        </div>
        <div id="verify" style="display: none">
        <div class="otpcode-wrapper">
          <div class="otpcode-input">
            <input type="text" name="" placeholder="Mã OTP" id="verificationcode">
            <span class="bottom"></span>
              <span class="right"></span>
              <span class="top"></span>
              <span class="left"></span>
          </div>
        </div>

        <div class="n-conf" style="display: none">Mã OTP không đúng, xin vui lòng thử lại.</div>
        
        <div class="buttonconfirm-wrapper">
          <button class="button-confirm" onclick="codeverify()">Xác thực</button>
        </div>

        </div>
        </div>
        <p class="line"><span>HOẶC</span></p>
        <div class="signup-row">
            <button class="btn-signup-Facebook">
              <div class="img-Facebook"><img src="/img/facebook.png"/></div>
              <div class="text-Facebook">Facebook</div>
            </button>
            <button class="btn-signup-Google">
              <div class="img-Google"><img src="/img/google.png"/></div>
              <div class="text-Google">Google</div>
            </button>
      </div>
      </div>

    </div>
  </div>
  

    <div id="footer"></div>
    
    
    <!--End line hehehehe-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-auth-compat.js"></script>
    <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDzLBVakEvDKYdVPxmDVuoJ1rSKkAqx0Fg",
      authDomain: "signup-butter.firebaseapp.com",
      projectId: "signup-butter",
      storageBucket: "signup-butter.appspot.com",
      messagingSenderId: "578923510456",
      appId: "1:578923510456:web:14bed4ceb43f6c6e62124d"
    };
    // initializing firebase SDK
    firebase.initializeApp(firebaseConfig);
    // render recaptcha verifier
    render();
    function render() {
        window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');
        recaptchaVerifier.render();
    }
    // function for send OTP
    function phoneAuth() {
      var number = document.getElementById('number').value;
      firebase.auth().signInWithPhoneNumber(number, window.recaptchaVerifier).then(function (confirmationResult) {
          window.confirmationResult = confirmationResult;
          coderesult = confirmationResult;
          document.getElementById('signup').style.display = 'none';
          document.getElementById('verify').style.display = 'block';
      }).catch(function(error){
        alert(error.message);
      });
    }
    // function for OTP verify
    function codeverify() {
      var code = document.getElementById('verificationcode').value;
      coderesult.confirm(code).then(function () {
          window.location.href = "index.html";
      }).catch(function () {
          document.getElementsByClassName('n-conf')[0].style.display = 'block';
      })
    }
    </script>

</body>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="./jquery"></script>
<script src="js/app.js"></script>
<script src="../js/header.js"></script>
<script src="../js/footer.js"></script>

</html>